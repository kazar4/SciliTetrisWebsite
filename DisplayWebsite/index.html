<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SciLi Tetris & Games</title>
    <link rel="stylesheet" href="style.css">
   
    <link rel="apple-touch-icon" sizes="180x180" href="./media/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./media/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./media/icons/favicon-16x16.png">
    <link rel="manifest" href="./media/icons/site.webmanifest">
    <link rel="mask-icon" href="./media/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="./media/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="./media/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

</head>
<body>
    <div class="video-background">
        <div class="black-screen"></div>
        <video id="bg" autoplay muted loop playsinline>
            <source src="sciliBit.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <div class="titleContent">
        <div class="header">
            <div class="title">SciLi <span class="tetris"><span class="t1">T</span><span class="e1">e</span><span class="t2">t</span><span class="r">r</span><span class="i">i</span><span class="s">s</span></span> & Games</div>
            <p class="subheader"><span class="brown-uni">Brown University</span> <span>May 2024</span></p>
        </div>

        <div id="popupContainer"></div>

        <div class="button-container">
            <!-- <button>What Happened?</button> -->
            <button id="main-button" class="glow-on-hover" type="button" onclick="toggleButton()"><span>What Happened?</span></button>
            <!-- <button id="main-button" type="button" onclick="toggleButton()"><span>What Happened?</span></button> -->
        </div>
    </div>
    <style>

        #custom-alert-overlay {
            display: flex;           /* always flex for layout */
            opacity: 0;              /* invisible */
            pointer-events: none;    /* cannot interact */
            justify-content: center;
            align-items: center;
            z-index: 9999;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            position: fixed;
            background: rgba(0,0,0,0.65);
            backdrop-filter: blur(3px);
            transition: opacity 0.22s ease-out;
        }
        
        #custom-alert-overlay.active {
            opacity: 1;              /* fade in */
            pointer-events: auto;
        }

        
        #custom-alert-box {
            display: none;
            position: relative;
            background: #1b1b1d;
            padding: 15px 30px;
            border-radius: 14px;
        
            /* NEW: responsive width */
            /* width: 90vw; */
            max-width: 80%;    /* looks good on tablets & desktop */
            min-width: 260px;    /* ensures readability */
        
            /* Center content and allow line breaking */
            text-align: center;
            color: #f1f1f1;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        
            /* Smooth animation */
            box-shadow: 0 12px 30px rgba(0,0,0,0.45);
            animation: fadeInScale 0.22s ease-out;
            font-size: clamp(14px, 2.5vw, 18px);
        }
        
        #custom-alert-message {
            white-space: pre-wrap;       /* default: respect \n */
            font-size: clamp(14px, 3vw, 18px);
            line-height: 1.45;
        }
        
        /* Small screens: ignore \n, keep text together */
        @media screen and (max-width: 665px) {
            #custom-alert-message {
            white-space: normal;       /* \n ignored, text wraps normally */
            }
        }
        
        /* Button */
        #custom-alert-ok {
            visibility: hidden;
            position: relative;
            font-size: clamp(14px, 3vw, 18px);
            padding: clamp(10px, 2.5vw, 14px);
            margin-top: 1px;
            padding: 10px 16px;
            background: #e76e63;
            color: #fff;
            border: 1px solid #4a4a4d;
            border-radius: 10px;
            font-size: 15px;
            cursor: pointer;
            transition: 0.15s ease;
        }
        
        #custom-alert-ok:hover {
            background: #4a4a4d;
        }
        
        #custom-alert-ok:active {
            transform: scale(0.97);
        }

        #custom-alert-overlay.active #custom-alert-ok {
            visibility: visible;
        }
        
        /* Fade + scale animation */
        @keyframes fadeInScale {
            from {
            transform: scale(0.92);
            opacity: 0;
            }
            to {
            transform: scale(1);
            opacity: 1;
            }
        }
        
    </style>
    <script>
        let bgVideo = document.getElementById("bg");
        let caughtPromise = false;
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);

        bgVideo.play().catch(() => {
            caughtPromise = true;
            let warningText = "";

            if (isIOS) {
                warningText =
                "On iPhone, autoplay may be blocked when Low Power Mode is on. \n Please disable to play background video";
            } else {
                warningText =
                "Autoplay is disabled by your browser or power settings. \n Please disable to play background video";
            }

            window.onload = function () {
                setTimeout(function () {
                    customAlert(warningText);
                }, 1000);
            };
        });

        function customAlert(message) {
            // Create overlay container
            const overlay = document.createElement("div");
            overlay.id = "custom-alert-overlay";

            // Create the alert box
            const box = document.createElement("div");
            box.id = "custom-alert-box";

            // Message
            const msg = document.createElement("p");
            msg.id = "custom-alert-message";
            msg.textContent = message;

            // OK button
            const btn = document.createElement("button");
            btn.id = "custom-alert-ok";
            btn.textContent = "OK";

            // Close alert
            btn.addEventListener("click", () => {
                overlay.remove();
            });

            // Build DOM structure
            box.appendChild(msg);
            box.appendChild(btn);
            overlay.appendChild(box);
            document.getElementById("popupContainer").appendChild(overlay);
        
            //overlay.style.display = "flex";

            msg.innerHTML = message;

            overlay.classList.add("active");
            box.style.display = "block";
        }


    </script>
    <script src="script.js"></script>
</body>
</html>
