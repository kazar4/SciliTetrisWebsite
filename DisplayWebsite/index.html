<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SciLi Tetris & Games</title>
    <link rel="stylesheet" href="style.css">
   
    <link rel="apple-touch-icon" sizes="180x180" href="./media/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./media/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./media/icons/favicon-16x16.png">
    <link rel="manifest" href="./media/icons/site.webmanifest">
    <link rel="mask-icon" href="./media/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="./media/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="./media/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

</head>
<body>
    <div class="video-background">
        <div class="black-screen"></div>
        <video id="bg" autoplay muted loop playsinline>
            <source src="sciliBit.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <div class="titleContent">
        <div class="header">
            <div class="title">SciLi <span class="tetris"><span class="t1">T</span><span class="e1">e</span><span class="t2">t</span><span class="r">r</span><span class="i">i</span><span class="s">s</span></span> & Games</div>
            <p class="subheader"><span class="brown-uni">Brown University</span> <span>May 2024</span></p>
        </div>

        <div id="popupContainer"></div>

        <div class="button-container">
            <!-- <button>What Happened?</button> -->
            <button id="main-button" class="glow-on-hover" type="button" onclick="toggleButton()"><span>What Happened?</span></button>
            <!-- <button id="main-button" type="button" onclick="toggleButton()"><span>What Happened?</span></button> -->
        </div>
    </div>
    <script>
        let bgVideo = document.getElementById("bg");
        let caughtPromise = false;
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);

        bgVideo.play().catch(() => {
            caughtPromise = true;
            let warningText = "";

            if (isIOS) {
                warningText =
                "On iPhone, autoplay may be blocked when Low Power Mode is on. \n Please disable to play background video";
            } else {
                warningText =
                "Autoplay is disabled by your browser or power settings. \n Please disable to play background video";
            }

            window.onload = function () {
                setTimeout(function () {
                    customAlert(warningText);
                }, 1000);
            };
        });

        function customAlert(message) {
            // Create overlay container
            const overlay = document.createElement("div");
            overlay.id = "custom-alert-overlay";

            // Create the alert box
            const box = document.createElement("div");
            box.id = "custom-alert-box";

            // Message
            const msg = document.createElement("p");
            msg.id = "custom-alert-message";
            msg.textContent = message;

            // OK button
            const btn = document.createElement("button");
            btn.id = "custom-alert-ok";
            btn.textContent = "OK";

            // Close alert
            btn.addEventListener("click", () => {
                overlay.remove();
            });

            // Build DOM structure
            box.appendChild(msg);
            box.appendChild(btn);
            overlay.appendChild(box);
            document.getElementById("popupContainer").appendChild(overlay);
        
            //overlay.style.display = "flex";

            msg.innerHTML = message;

            overlay.classList.add("active");
            box.style.display = "block";
        }


    </script>
    <script src="script.js"></script>
</body>
</html>
